[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Bid-Ask Spread: Spread $0.06 exceeds $0.05
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 188 below 500, Bid-Ask Spread: Spread $0.15 exceeds $0.05, Delta: Delta 0.41 exceeds 0.18
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 186 below 500, Bid-Ask Spread: Spread $0.15 exceeds $0.05, Delta: Delta 0.39 exceeds 0.18
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Bid-Ask Spread: Spread $0.15 exceeds $0.05, Delta: Delta 0.37 exceeds 0.18 
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 71 below 500, Bid-Ask Spread: Spread $0.15 exceeds $0.05, Delta: Delta 0.35 exceeds 0.18
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Bid-Ask Spread: Spread $0.10 exceeds $0.05, Delta: Delta 0.34 exceeds 0.18 
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 176 below 500, Bid-Ask Spread: Spread $0.15 exceeds $0.05, Delta: Delta 0.32 exceeds 0.18
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 284 below 500, Bid-Ask Spread: Spread $0.10 exceeds $0.05, Delta: Delta 0.30 exceeds 0.18
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 217 below 500, Bid-Ask Spread: Spread $0.15 exceeds $0.05, Delta: Delta 0.29 exceeds 0.18
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 175 below 500, Bid-Ask Spread: Spread $0.10 exceeds $0.05, Delta: Delta 0.27 exceeds 0.18
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 419 below 500, Bid-Ask Spread: Spread $0.10 exceeds $0.05, Delta: Delta 0.25 exceeds 0.18
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 135 below 500, Bid-Ask Spread: Spread $0.15 exceeds $0.05, Delta: Delta 0.24 exceeds 0.18
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 68 below 500, Bid-Ask Spread: Spread $0.15 exceeds $0.05, Delta: Delta 0.22 exceeds 0.18
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Bid-Ask Spread: Spread $0.11 exceeds $0.05, Delta: Delta 0.21 exceeds 0.18 
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Bid-Ask Spread: Spread $0.08 exceeds $0.05, Delta: Delta 0.20 exceeds 0.18 
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Bid-Ask Spread: Spread $0.06 exceeds $0.05, Delta: Delta 0.18 exceeds 0.18 
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Bid-Ask Spread: Spread $0.08 exceeds $0.05
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 176 below 500, Bid-Ask Spread: Spread $0.07 exceeds $0.05
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Open Interest: OI 363 below 500, Bid-Ask Spread: Spread $0.07 exceeds $0.05
[FilterHighWeight] Skipping IV Rank check - requires historical data not available in options chain
[FilterHighWeight] Skipping IV Percentile check - requires historical data not available in options chain
[FilterHighWeight] ✗ HOOD candidate filtered: Bid-Ask Spread: Spread $0.06 exceeds $0.05
[FilterHighWeight] 3 candidates passed high-weight filters
[FilterHighWeight] 103 near-miss candidates tracked
[ReasoningCheckpoint2] Evaluating 3 candidates after high-weight filter
[FilterLowWeight] Filtering 3 candidates on low-weight factors
[FilterLowWeight] Found 14 low-weight factors
[FilterLowWeight] ✓ AMD passed (0/14 violations)
[FilterLowWeight] ✓ TSLA passed (0/14 violations)
[FilterLowWeight] ✓ HOOD passed (0/14 violations)
[FilterLowWeight] 3/3 candidates passed
[ReasoningCheckpoint3] Evaluating 3 candidates after low-weight filter
[RAGScoring] Scoring 3 candidates with historical correlation
[RAG] Finding similar trades for AMD put_credit_spread
[RAG] Using OpenAI for embeddings
[RAG] Found 0 similar trades (threshold: 0.75)
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "calc-52w-range-position",
  "display_name": "52W Range Position",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS Factor] undefined: value=null, target=≥0.4, passed=false
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "calc-dist-52w-high",
  "display_name": "Distance from 52W High",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS Factor] undefined: value=null, target=≤0.15, passed=false
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "av-200-day-ma",
  "display_name": "200 Day Moving Average",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] UNMATCHED factor_key: "av-200-day-ma" (name: 200 Day Moving Average)
[IPS Factor] undefined: value=null, target=≥1, passed=false
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "av-50-day-ma",
  "display_name": "50 Day Moving Average",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] UNMATCHED factor_key: "av-50-day-ma" (name: 50 Day Moving Average)
[IPS Factor] undefined: value=null, target=≥1, passed=false
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "tavily-analyst-rating-avg",
  "display_name": "Analyst Rating Average",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "calc-market-cap-category",
  "display_name": "Market Cap Category",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "av-inflation",
  "display_name": "Inflation Rate",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "av-mom",
  "display_name": "Momentum",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] UNMATCHED factor_key: "av-mom" (name: Momentum)
[IPS Factor] undefined: value=null, target=≥20, passed=false
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "opt-iv-rank",
  "display_name": "IV Rank",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS Factor] undefined: value=null, target=≥50, passed=false
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "opt-theta",
  "display_name": "Theta",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "opt-vega",
  "display_name": "Vega",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "opt-iv",
  "display_name": "Implied Volatility",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "opt-open-interest",
  "display_name": "Open Interest",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "opt-put-call-ratio",
  "display_name": "Put/Call Ratio",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "calc-put-call-oi-ratio",
  "display_name": "Put/Call OI Ratio",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "opt-bid-ask-spread",
  "display_name": "Bid-Ask Spread",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "calc-iv-percentile",
  "display_name": "IV Percentile",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "tavily-news-sentiment-score",
  "display_name": "News Sentiment Score",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "tavily-news-volume",
  "display_name": "News Volume",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "tavily-social-sentiment",
  "display_name": "Social Media Sentiment",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "AMD",
  "factor_key": "opt-delta",
  "display_name": "Delta",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 211.51,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS] AMD: Score=71.0%, Tier=speculative, Passed=7, Failed=14
[RAGScoring] AMD: Composite=40.2 (no historical data available)
[RAG] Finding similar trades for TSLA put_credit_spread
[RAG] Using OpenAI for embeddings
[RAG] Found 0 similar trades (threshold: 0.75)
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "calc-52w-range-position",
  "display_name": "52W Range Position",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS Factor] undefined: value=null, target=≥0.4, passed=false
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "calc-dist-52w-high",
  "display_name": "Distance from 52W High",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS Factor] undefined: value=null, target=≤0.15, passed=false
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "av-200-day-ma",
  "display_name": "200 Day Moving Average",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] UNMATCHED factor_key: "av-200-day-ma" (name: 200 Day Moving Average)
[IPS Factor] undefined: value=null, target=≥1, passed=false
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "av-50-day-ma",
  "display_name": "50 Day Moving Average",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] UNMATCHED factor_key: "av-50-day-ma" (name: 50 Day Moving Average)
[IPS Factor] undefined: value=null, target=≥1, passed=false
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "tavily-analyst-rating-avg",
  "display_name": "Analyst Rating Average",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "calc-market-cap-category",
  "display_name": "Market Cap Category",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "av-inflation",
  "display_name": "Inflation Rate",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "av-mom",
  "display_name": "Momentum",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] UNMATCHED factor_key: "av-mom" (name: Momentum)
[IPS Factor] undefined: value=null, target=≥20, passed=false
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "opt-iv-rank",
  "display_name": "IV Rank",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS Factor] undefined: value=null, target=≥50, passed=false
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "opt-theta",
  "display_name": "Theta",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "opt-vega",
  "display_name": "Vega",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "opt-iv",
  "display_name": "Implied Volatility",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "opt-open-interest",
  "display_name": "Open Interest",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "opt-put-call-ratio",
  "display_name": "Put/Call Ratio",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "calc-put-call-oi-ratio",
  "display_name": "Put/Call OI Ratio",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "opt-bid-ask-spread",
  "display_name": "Bid-Ask Spread",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "calc-iv-percentile",
  "display_name": "IV Percentile",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "tavily-news-sentiment-score",
  "display_name": "News Sentiment Score",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "tavily-news-volume",
  "display_name": "News Volume",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "tavily-social-sentiment",
  "display_name": "Social Media Sentiment",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "TSLA",
  "factor_key": "opt-delta",
  "display_name": "Delta",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 433.09,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS] TSLA: Score=71.0%, Tier=speculative, Passed=7, Failed=14
[RAGScoring] TSLA: Composite=38.2 (no historical data available)
[RAG] Finding similar trades for HOOD put_credit_spread
[RAG] Using OpenAI for embeddings
[RAG] Found 0 similar trades (threshold: 0.75)
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "calc-52w-range-position",
  "display_name": "52W Range Position",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS Factor] undefined: value=null, target=≥0.4, passed=false
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "calc-dist-52w-high",
  "display_name": "Distance from 52W High",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS Factor] undefined: value=null, target=≤0.15, passed=false
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "av-200-day-ma",
  "display_name": "200 Day Moving Average",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] UNMATCHED factor_key: "av-200-day-ma" (name: 200 Day Moving Average)
[IPS Factor] undefined: value=null, target=≥1, passed=false
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "av-50-day-ma",
  "display_name": "50 Day Moving Average",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] UNMATCHED factor_key: "av-50-day-ma" (name: 50 Day Moving Average)
[IPS Factor] undefined: value=null, target=≥1, passed=false
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "tavily-analyst-rating-avg",
  "display_name": "Analyst Rating Average",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "calc-market-cap-category",
  "display_name": "Market Cap Category",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "av-inflation",
  "display_name": "Inflation Rate",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "av-mom",
  "display_name": "Momentum",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] UNMATCHED factor_key: "av-mom" (name: Momentum)
[IPS Factor] undefined: value=null, target=≥20, passed=false
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "opt-iv-rank",
  "display_name": "IV Rank",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS Factor] undefined: value=null, target=≥50, passed=false
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "opt-theta",
  "display_name": "Theta",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "opt-vega",
  "display_name": "Vega",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "opt-iv",
  "display_name": "Implied Volatility",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "opt-open-interest",
  "display_name": "Open Interest",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "opt-put-call-ratio",
  "display_name": "Put/Call Ratio",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "calc-put-call-oi-ratio",
  "display_name": "Put/Call OI Ratio",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "opt-bid-ask-spread",
  "display_name": "Bid-Ask Spread",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "calc-iv-percentile",
  "display_name": "IV Percentile",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "tavily-news-sentiment-score",
  "display_name": "News Sentiment Score",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "tavily-news-volume",
  "display_name": "News Volume",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "tavily-social-sentiment",
  "display_name": "Social Media Sentiment",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[getFactorValue] Evaluating: {
  "symbol": "HOOD",
  "factor_key": "opt-delta",
  "display_name": "Delta",
  "has_fundamentalData": true,
  "has_overview": true,
  "current_price": 145,
  "overview_keys": [
    "sma200",
    "sma50",
    "momentum"
  ]
}
[IPS] HOOD: Score=71.0%, Tier=speculative, Passed=7, Failed=14
[RAGScoring] HOOD: Composite=37.8 (no historical data available)
[TieredSelection] Sorting 3 candidates by tier and composite score
[TieredSelection] Before diversification: Elite=0, Quality=0, Speculative=3
[TieredSelection] After diversification: 3 selected
[TieredSelection] Final breakdown:
  Elite (IPS≥90): 0 trades
  Quality (IPS 75-89): 0 trades
  Speculative (IPS 60-74): 3 trades
  Total: 3 trades
  1. [SPECULATIVE] AMD: Composite=40.2, IPS=71.0%, Diversity=100
  2. [SPECULATIVE] TSLA: Composite=38.2, IPS=71.0%, Diversity=100
  3. [SPECULATIVE] HOOD: Composite=37.8, IPS=71.0%, Diversity=100
[GenerateRationales] Generating AI rationales for 3 selected trades
[GenerateRationales] AMD: Rationale generated (450 chars)
[GenerateRationales] TSLA: Rationale generated (439 chars)
[GenerateRationales] HOOD: Rationale generated (369 chars)
[Diversification] Checking portfolio concentration for 3 trades
[Diversification] AMD: ⚠️ 33% portfolio concentration
[Diversification] TSLA: ⚠️ 33% portfolio concentration
[Diversification] HOOD: ⚠️ 33% portfolio concentration
[FinalizeOutput] Preparing final output for 3 trades
[FinalizeOutput] AMD put_credit_spread:
  IPS Score: 71.0%
  Composite: 40.2
  Entry: $0.83 | Max Profit: $0.83 | Max Loss: $4.17
  Warnings: 1
[FinalizeOutput] TSLA put_credit_spread:
  IPS Score: 71.0%
  Composite: 38.2
  Entry: $0.70 | Max Profit: $0.70 | Max Loss: $4.29
  Warnings: 1
[FinalizeOutput] HOOD put_credit_spread:
  IPS Score: 71.0%
  Composite: 37.8
  Entry: $0.27 | Max Profit: $0.27 | Max Loss: $1.73
  Warnings: 1
[AgentV3] Completed run 560dd116-1156-467f-9af3-4efb04fd2e3e. Candidates: 3
[API] Agent v3 returned 3 selected candidates
[API] First candidate data check: {
  symbol: 'AMD',
  composite_score: 40.24338419934327,
  ips_score: 70.9677419354839,
  has_historical_analysis: true,
  diversification_warnings: 1
}
[API] Reasoning decisions: [
  {
    checkpoint: 'after_general_filter',
    decision: 'PROCEED',
    reasoning: '3 symbols passed general filters',
    timestamp: '2025-10-07T22:56:50.328Z'
  },
  {
    checkpoint: 'after_high_weight_filter',
    decision: 'PROCEED',
    reasoning: '3 candidates passed high-weight filters',
    timestamp: '2025-10-07T22:57:03.293Z'
  },
  {
    checkpoint: 'after_low_weight_filter',
    decision: 'PROCEED',
    reasoning: '3 candidates passed all filters',
    timestamp: '2025-10-07T22:57:03.307Z'
  }
]
 POST /api/agent/run 200 in 48945ms
